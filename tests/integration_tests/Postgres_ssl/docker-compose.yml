version: '3.7'


volumes:
  pgdata:




services:
    db:
      container_name: "db"
      image: postgres:12
      volumes:
        - type: "bind"
          source: "g:/scripts/R/packages/testing_dcmodifydb/database"
          target: /pgdata
      environment:
        POSTGRES_DB: "r_testing"
        POSTGRES_USER: "admin"
        POSTGRES_PASSWORD: "admin"
      ports:
        - "5432:5432"
      networks: ['mynetwork']
    r_testing:
      tty: true
      container_name: r_testing
      command: bash run_tests.sh
      build: dcmodifyDB
      volumes:
        - type: "bind"
          source: "g:/scripts/R/packages/testing_dcmodifydb/dcmodifyDB"
          target: "/code"
      depends_on:
        - "db"
      volumes:
        - ./dcmodifyDB:/code
      networks: ['mynetwork']





volumes:
  dev-postgres-run:

networks: {mynetwork: {}}